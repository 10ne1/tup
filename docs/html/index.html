<html>
<head>
<title>tup: The Updater</title>
<link rel="stylesheet" type="text/css" href="tup.css" />
</head>
<body>

<p>Get tup:</p>
<pre>
$ git clone http://gittup.org/tup.git
$ cd tup
tup$ sh bootstrap.sh
tup$ man ./tup.1
</pre>

<a href="building_tup.html">Building tup</a><br>
<a href="getting_started.html">Getting Started</a><br>
<a href="examples.html">Examples</a><br>
<a href="make_vs_tup.html">Make vs. tup</a><br>
<a href="tup_vs_mordor.html">tup vs. The All-Seeing Eye of Mordor</a><br>
<a href="build_system_rules_and_algorithms.pdf">The Build System Algorithmic Revolution (PDF)</a>
<p>The <a href="http://groups.google.com/group/tup-users">tup-users mailing list</a> is hosted by Google Groups. Feel free to join or email it. Be warned, though: you may be overwhelmed by all the cool people who frequent this list. Some of them post while surfing or skydiving or doing other cool things. At a minimum, sunglasses are required.</p>

<h2>What is tup?</h2>
<p>Tup is a build system / dependency manager program - it inputs a list of file changes and a DAG (directed acyclic graph), then processes the DAG to execute the appropriate commands required to update dependent files. The DAG is stored in an <a href="http://www.sqlite.org/">SQLite</a> database. The list of file changes can be generated by scanning the filesystem, or by running the included file monitor daemon. It might be possible to support it in an IDE as well. By providing the file change log up front and storing the dependencies in an efficient database structure, updates can be performed with very little overhead. The monitor daemon uses inotify, so it is currently linux only. The rest of tup could probably be pretty easily ported to other UNIX-y systems, I think.</p>

<h2>Why tup?</h2>
<p>You can use tup anywhere you would use another build system (like make, or any of its derivatives). The reason you would want to use tup is if you like to update things very quickly. For example, if you typically execute a build in a subdirectory because it takes too long to figure out what to do when you execute the build from the top, you might want to look into tup. Unfortunately, tup is so fast that your <a href="http://xkcd.com/303/">chair mounted jousting</a> might suffer. I apologize in advance if someone besmirches your honor and you are unable to properly defend yourself as a result.</p>

<h2>Wha tup?</h2>
<p>Nothing much, just writing some web pages. What's up with you?</p>

<h2>Why is it so awesome?</h2>
<ul>
  <li>It is <a href="make_vs_tup.html">very fast</a>.</li>
  <li>It will automatically clean-up old files (ie: you can rename a C file. It will delete the old object file for you).</li>
  <li>I can't think of a third reason, so I will just re-iterate that it is awesome and fast.</li>
</ul>

<h2>How is it so awesome?</h2>
<p>In a typical build system, the dependency arrows go down. Although this is the way they would naturally go due to gravity, it is unfortunately also where the enemy's gate is. This makes it very inefficient and unfriendly. In tup, the arrows go up. This is obviously true because it rhymes. See how the dependencies differ in make and tup:</p>
<table border=0><tr><td align=center><b>Make</b></td><td align=center><b>tup</b></td></tr>
   <tr>
     <td><img src="make_deps.png"></td>
     <td><img src="tup_deps.png"></td>
   </tr>
</table>
<p>See the difference? The arrows go up. This makes it very fast. The reason it is so fast is because you tell tup ahead of time what file you changed. So if you change foo.h here, in make you have to look at all the dependencies trying to find arrows that go to foo.h. With tup, it will start at foo.h and follow the arrows until there aren't any more arrows to follow. In this case, it doesn't have to ever look at foo.c or bar.c. Instead of just foo.c or bar.c, imagine if that was a whole part of the build tree that had a million nodes. Can you imagine a million nodes? If you stacked a million nodes up end to end, it would go around the earth 12 times and then up to the moon and back. Clearly, this would take a long time to find all the arrows.</p>
<p>In reality, the tup graph is a little more complex. Soon there will be a whole page dedicated to graphs in tup.</p>

<h2>How do I (person reading this) give you (marf) millions of dollars ($$$) to buy the awesomeness (tup)?</h2>
<p>Tup is currently released under the same conditions as <a href="http://www.erestar.net/games/marfitude/">marfitude</a>. So, the source code is free to download and use under the conditions of the GPL. Also, you are encouraged to donate some of your millions or your time to some place worthy, rather than to me, since I am but a pale ghost of my former self, and may be hit by a bus at anytime. Just think of all the time you saved with tup, and how much that is worth to you, and maybe do something about it.</p>

</body>
</html>
